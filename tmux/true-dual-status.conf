# =====================================
# TRUE DUAL STATUS BARS FOR TMUX
# =====================================
# This implements a real bottom status bar using terminal margins

# Standard top status bar
set -g status on
set -g status-position top
set -g status-bg "colour235"
set -g status-fg "colour250"
set -g status-justify left
set -g status-left " "
set -g status-right "#[fg=colour243,bg=colour235] #S "

# Window tabs
set -g window-status-format "#[fg=colour250,bg=colour236] #I #[fg=colour243]#W "
set -g window-status-current-format "#[fg=colour235,bg=colour114] #I #[fg=colour235,bold]#W "
set -g window-status-separator ""

# Disable pane borders
set -g pane-border-status off
set -g pane-border-style "fg=colour235"
set -g pane-active-border-style "fg=colour235"

# =====================================
# BOTTOM STATUS IMPLEMENTATION
# =====================================

# Reserve bottom line using terminal control
set-hook -g client-attached 'run-shell "~/.config/tmux/scripts/init-bottom-bar.sh"'
set-hook -g session-created 'run-shell "~/.config/tmux/scripts/init-bottom-bar.sh"'

# Update bottom bar on mode changes
set-hook -g after-select-pane 'run-shell -b "~/.config/tmux/scripts/draw-bottom-bar.sh"'
set-hook -g client-session-changed 'run-shell -b "~/.config/tmux/scripts/draw-bottom-bar.sh"'

# Bind key to manually refresh bottom bar if needed
bind-key B run-shell "~/.config/tmux/scripts/draw-bottom-bar.sh"