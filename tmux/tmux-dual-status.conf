# =====================================
# DUAL STATUS BARS - TOP AND BOTTOM
# =====================================
# This configuration creates two independent status bars:
# - Top: Window tabs for current session
# - Bottom: Mode-specific keybinds
#
# This replaces the problematic pane-border-status approach
# which creates duplicate bars when splitting panes.

# =====================================
# TOP STATUS BAR - WINDOW TABS
# =====================================

# Enable status bar and position at top
set -g status on
set -g status-position top
set -g status-justify centre

# Colors for top bar (OneDark theme)
set -g status-bg "colour235"
set -g status-fg "colour250"

# Window/Tab styling
set -g window-status-format '#[fg=colour250,bg=colour236] #I #[fg=colour243]#W '
set -g window-status-current-format '#[fg=colour235,bg=colour114] #I #[fg=colour235,bold]#W '
set -g window-status-separator ""

# Minimal left/right sections for top bar
set -g status-left ""
set -g status-right "#[fg=colour243,bg=colour235] #S "
set -g status-left-length 0
set -g status-right-length 30

# =====================================
# BOTTOM STATUS BAR - MODE KEYBINDS
# =====================================

# Enable second status bar
set -g status 2

# Configure the second status line (appears at bottom when position is top)
# This displays the mode-specific keybinds
set -g status-format[1] '#[align=centre]#(~/.config/tmux/scripts/status-bar.sh)'

# Style the bottom bar to match
set -Fg status-style[1] 'bg=colour235,fg=colour250'

# =====================================
# REMOVE PANE BORDER STATUS
# =====================================
# This is crucial - removes the duplicate bars problem
set -g pane-border-status off

# Keep clean pane borders
set -g pane-border-style "fg=colour235"
set -g pane-active-border-style "fg=colour235"
set -g pane-border-lines single